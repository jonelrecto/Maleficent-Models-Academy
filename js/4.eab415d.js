(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[4],{"0tVQ":function(t,e,s){s("FlQf"),s("VJsP"),t.exports=s("WEpk").Array.from},"6jPk":function(t,e,s){},Bnag:function(t,e){function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}t.exports=s},CIZw:function(t,e,s){"use strict";s.r(e);var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("q-layout",{attrs:{view:"lHh Lpr lff"}},[r("q-layout-header",[r("div",{},[r("q-toolbar",{attrs:{color:"white"}},[r("q-btn",{staticClass:"text-faded",attrs:{flat:"",dense:"",round:"","aria-label":"Menu"},on:{click:function(e){t.leftDrawerOpen=!t.leftDrawerOpen}}},[r("q-icon",{attrs:{name:"menu"}})],1),r("q-toolbar-title",{staticClass:"absolute-center"},[r("img",{attrs:{id:"logo_memp",alt:"Maleficent Models Academy",src:s("Znib")}})]),r("q-btn",{staticClass:"text-faded absolute-right q-mt-sm q-mr-sm hide-mobile",attrs:{flat:"",dense:"",round:"","aria-label":"Log-Out"},on:{click:function(e){t.$router.push("/")}}},[r("q-icon",{attrs:{name:"power_settings_new"}})],1)],1),r("q-layout-drawer",{attrs:{"content-class":"mat"===t.$q.theme?"bg-white":null},model:{value:t.leftDrawerOpen,callback:function(e){t.leftDrawerOpen=e},expression:"leftDrawerOpen"}},[r("q-list",{attrs:{"no-border":"",link:"","inset-delimiter":""}},[r("q-list-header",[t._v("Navigation")]),r("q-item",{staticClass:"text-dark",attrs:{to:"/settings/"+t.getAccountNumber}},[r("q-item-side",{attrs:{icon:"settings"}}),r("q-item-main",{attrs:{label:"Account Settings"}})],1),r("div",{on:{click:t.setUnreadTrue}},[r("q-item",{staticClass:"text-dark",attrs:{to:"/chat/"+t.getAccountNumber}},[r("q-item-side",{attrs:{icon:"message"}}),r("q-item-main",{attrs:{label:"Message Coordinator"}}),t.showCount?r("q-chip",{attrs:{color:"red",small:""}},[t._v(t._s(t.showCount))]):t._e()],1)],1),r("q-item",{staticClass:"bg-dark text-white",attrs:{to:"/"}},[r("q-item-side",{staticClass:"text-white",attrs:{icon:"power_settings_new"}}),r("q-item-main",{staticClass:"text-white",attrs:{label:"Log - Out"}})],1)],1)],1),r("q-tabs",{staticClass:"shadow-2 full-width",attrs:{align:"justify",color:"dark"}},[r("q-tab",{attrs:{slot:"title",icon:"dashboard",label:""},on:{click:function(e){t.$router.push("/accounts/"+t.getAccountNumber)}},slot:"title"},[r("label",{staticClass:"hide-mobile"},[t._v(" Dashboard ")])]),r("q-tab",{attrs:{slot:"title",icon:"ballot",label:""},on:{click:function(e){t.$router.push("/newsfeed/"+t.getAccountNumber)}},slot:"title"},[r("label",{staticClass:"hide-mobile"},[t._v(" Latest News ")])]),r("q-tab",{attrs:{slot:"title",count:t.getCountNotification,icon:"notifications",label:""},on:{click:function(e){t.$router.push("/notifications/"+t.getAccountNumber)}},slot:"title"},[r("label",{staticClass:"hide-mobile"},[t._v(" Notfications ")])])],1)],1)]),r("q-page-container",{staticClass:"bgimg"},[r("router-view")],1),r("q-layout-footer",{staticStyle:{"background-color":"#232428"}},[r("div",{staticClass:"justify center"},[r("div",{staticClass:"q-pa-lg container"},[r("div",{staticClass:"row"},[r("div",{staticClass:"col-12 text-white text-center",attrs:{id:"social"}},[r("p",{staticClass:"q-caption text-light"},[t._v("Copyright Â© 2018 Maleficent Models Academy")]),r("a",{attrs:{href:""}},[t._v("FAQ")]),t._v(" | "),r("a",{attrs:{href:""}},[t._v("Terms and Conditions")]),t._v(" | "),r("a",{attrs:{href:""}},[t._v("Privacy Policy")])])])])])]),t.showCount?r("q-page-sticky",{attrs:{position:"top-right",offset:[18,18]}},[r("q-btn",{attrs:{round:"",color:"primary",icon:"message",size:"lg",to:"/chat/"+t.getModelInfo.accountNumber},on:{click:t.setUnreadTrue}}),r("q-chip",{attrs:{floating:"",color:"red"}},[t._v(t._s(t.showCount))])],1):t._e()],1)},n=[];r._withStripped=!0;var i=s("RIqP"),a=s.n(i),o=s("MVZn"),u=s.n(o),c=(s("rGqo"),s("yt8O"),s("RW0V"),s("91GP"),s("lqHd")),l=s("9JDm"),h={name:"ModelAccountLayout",data:function(){return{leftDrawerOpen:!1,state:!0,accountNumber:"",allMessage:[],contractsigned:[]}},created:function(){this.$bindAsArray("contractsigned",this.$database.ref("contractSigned")),this.$bindAsArray("allMessage",this.$database.ref("messages")),this.accountNumber=this.$route.params.id,console.log("account Number",this.accountNumber)},computed:{getAccountNumber:function(){try{return this.$route.params.id}catch(t){return""}},getModelInfo:function(){var t=this;try{var e=this.$lodash.filter(this.contractsigned,function(e){return e.accountNumber===t.getAccountNumber});return console.log("list",e),e[0]}catch(t){return[]}},getDuePayments:function(){return this.getModelInfo.paymentDueDate},get1stPaidStatus:function(){return console.log("get1stStatus",this.getDuePayments[0].paidStatus+this.getDuePayments[0].title),this.getDuePayments[0].paidStatus},get2ndPaidStatus:function(){return console.log("get2ndStatus",this.getDuePayments[1].paidStatus+this.getDuePayments[1].title),this.getDuePayments[1].paidStatus},get3rdPaidStatus:function(){return console.log("get3rdStatus",this.getDuePayments[2].paidStatus+this.getDuePayments[2].title),this.getDuePayments[2].paidStatus},getActivies:function(){var t=this;try{var e=this.getModelInfo.balance,s=this.$lodash.filter(this.getModelInfo.activitiesAttended,function(s){if(0===e)return"orientation"===s.type?0:s;if("orientation"===s.type)return 0;if("photoshoot"===s.type){if(!0===t.get1stPaidStatus)return s}else if("photoliking"===s.type){if(!0===t.get2ndPaidStatus)return s}else if(!0===t.get3rdPaidStatus)return s});return s}catch(t){return[]}},getCountNotification:function(){return this.CheckOutdated.length},getModelMessages:function(){this.$bindAsArray("modelmsgs",this.$database.ref("messages/"+this.$route.params.id));var t=[];try{for(var e=0;e<this.modelmsgs.length;e++){var s=Object.assign([],this.modelmsgs[e]);"Model Coordinator"!==s.from?(delete s.sent,t.push(Object.assign({},s))):t.push(Object.assign({},s))}return t}catch(t){}},MessageCounter:function(){console.log("mes",this.allMessage[0]);for(var t=[],e=0;e<this.allMessage.length;e++){for(var s=this.allMessage[e][".key"],r=Object.keys(this.allMessage[e]),n=[],i=0;i<r.length-1;i++)n.push(u()({},this.allMessage[e][r[i]]));var a=this.$lodash.filter(n,function(t){return"Model Coordinator"===t.from&&!1===t.seen});t.push({count:a.length,key:s})}return t},showCount:function(){var t=this.$route.params.id,e=0;try{for(var s=0;s<this.MessageCounter.length;s++){var r=this.MessageCounter[s].key;r===t&&(e=this.MessageCounter[s].count)}return 0===e?0:e}catch(t){}},getActivitiesFromBatchKey:function(){var t=this;try{var e=this.getModelInfo.balance,s=this.getModelInfo.batchKey;this.$bindAsArray("event_schedules1",this.$database.ref("event_schedules"));var r=this.$lodash.filter(this.event_schedules1,function(t){return t[".key"]===s}),n=[],i=[],a=(this.$lodash.filter(r[0].activities,function(t){"payment"===t.type||"orientation"===t.type?n.push(t):i.push(t)}),this.$lodash.filter(i,function(s){if(0===e)return"orientation"===s.type?0:s;if("orientation"===s.type)return 0;if("photoshoot"===s.type){if(!0===t.get1stPaidStatus)return s}else if("photoliking"===s.type){if(!0===t.get2ndPaidStatus)return s}else if(!0===t.get3rdPaidStatus)return s}));return a}catch(t){return[]}},CheckRescheduled:function(){try{for(var t=this.$lodash.filter(this.getModelInfo.rescheduledActivity,function(t){return t}),e=[],s=[],r=a()(this.getActivitiesFromBatchKey),n=0;n<t.length;n++)for(var i=0;i<this.event_schedules1.length;i++)t[n].batchKey===this.event_schedules1[i][".key"]?e.push(this.event_schedules1[i]):s.push(this.event_schedules1[i]);for(var o=0;o<e.length;o++)for(var u=0;u<e[o].activities.length;u++)t[o].newActivityID===e[o].activities[u].id?(e[o].activities[u].rescheduled=!0,r.push(e[o].activities[u])):s.push(e[o].activities[u]);var c=this.$lodash.orderBy(r,function(t){return new Date(t.startDate)},"asc");return c}catch(t){return[]}},CheckOutdated:function(){for(var t=this.CheckRescheduled,e=new Date,s=[],r=[],n=[],i=0;i<t.length;i++){var a=new Date(t[i].startDate),o=l["d"].getDateDiff(a,e);o<0?r.push(t[i]):o<7?s.push(t[i]):n.push(t[i])}return s}},methods:{openURL:c["a"],setUnreadTrue:function(){for(var t=this.$route.params.id,e=0;e<this.getModelMessages.length;e++)"Model Coordinator"===this.getModelMessages[e].from&&!1===this.getModelMessages[e].seen&&this.$database.ref("messages/"+t+"/"+this.getModelMessages[e][".key"]+"/seen").set(!0)}},toggleHeader:function(){this.state=!this.state}},d=h,f=(s("U2kp"),s("KHd+")),g=Object(f["a"])(d,r,n,!1,null,null,null);e["default"]=g.exports},EbDI:function(t,e,s){var r=s("Kgbp"),n=s("iD3k");function i(t){if(n(Object(t))||"[object Arguments]"===Object.prototype.toString.call(t))return r(t)}t.exports=i},IP1Z:function(t,e,s){"use strict";var r=s("2faE"),n=s("rr1i");t.exports=function(t,e,s){e in t?r.f(t,e,n(0,s)):t[e]=s}},Ijbi:function(t,e){function s(t){if(Array.isArray(t)){for(var e=0,s=new Array(t.length);e<t.length;e++)s[e]=t[e];return s}}t.exports=s},Kgbp:function(t,e,s){t.exports=s("0tVQ")},NwJ3:function(t,e,s){var r=s("SBuE"),n=s("UWiX")("iterator"),i=Array.prototype;t.exports=function(t){return void 0!==t&&(r.Array===t||i[n]===t)}},QMMT:function(t,e,s){var r=s("a0xu"),n=s("UWiX")("toStringTag"),i="Arguments"==r(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(t){}};t.exports=function(t){var e,s,o;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(s=a(e=Object(t),n))?s:i?r(e):"Object"==(o=r(e))&&"function"==typeof e.callee?"Arguments":o}},RIqP:function(t,e,s){var r=s("Ijbi"),n=s("EbDI"),i=s("Bnag");function a(t){return r(t)||n(t)||i()}t.exports=a},TuGD:function(t,e,s){var r=s("UWiX")("iterator"),n=!1;try{var i=[7][r]();i["return"]=function(){n=!0},Array.from(i,function(){throw 2})}catch(t){}t.exports=function(t,e){if(!e&&!n)return!1;var s=!1;try{var i=[7],a=i[r]();a.next=function(){return{done:s=!0}},i[r]=function(){return a},t(i)}catch(t){}return s}},U2kp:function(t,e,s){"use strict";var r=s("6jPk"),n=s.n(r);n.a},VJsP:function(t,e,s){"use strict";var r=s("2GTP"),n=s("Y7ZC"),i=s("JB68"),a=s("sNwI"),o=s("NwJ3"),u=s("tEej"),c=s("IP1Z"),l=s("fNZA");n(n.S+n.F*!s("TuGD")(function(t){Array.from(t)}),"Array",{from:function(t){var e,s,n,h,d=i(t),f="function"==typeof this?this:Array,g=arguments.length,p=g>1?arguments[1]:void 0,v=void 0!==p,m=0,y=l(d);if(v&&(p=r(p,g>2?arguments[2]:void 0,2)),void 0==y||f==Array&&o(y))for(e=u(d.length),s=new f(e);e>m;m++)c(s,m,v?p(d[m],m):d[m]);else for(h=y.call(d),s=new f;!(n=h.next()).done;m++)c(s,m,v?a(h,p,[n.value,m],!0):n.value);return s.length=m,s}})},VKFn:function(t,e,s){s("bBy9"),s("FlQf"),t.exports=s("ldVq")},fNZA:function(t,e,s){var r=s("QMMT"),n=s("UWiX")("iterator"),i=s("SBuE");t.exports=s("WEpk").getIteratorMethod=function(t){if(void 0!=t)return t[n]||t["@@iterator"]||i[r(t)]}},iD3k:function(t,e,s){t.exports=s("VKFn")},ldVq:function(t,e,s){var r=s("QMMT"),n=s("UWiX")("iterator"),i=s("SBuE");t.exports=s("WEpk").isIterable=function(t){var e=Object(t);return void 0!==e[n]||"@@iterator"in e||i.hasOwnProperty(r(e))}},sNwI:function(t,e,s){var r=s("5K7Z");t.exports=function(t,e,s,n){try{return n?e(r(s)[0],s[1]):e(s)}catch(e){var i=t["return"];throw void 0!==i&&r(i.call(t)),e}}}}]);